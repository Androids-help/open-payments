---
id: auth
title: Authorization
---

Authorization is a key part of Open Payments.

All API endpoints can be protected as determined by the wallet and account owner
based on their requirements.

For example, the [invoices API](./invoices) might be open by default for all
accounts but protected by account owners that don't want to receive unsolicited
payments.

Getting authorization to access an Open Payments API resource is done using the
OAuth 2.0 protocol. This ensures that the resource owner (the owner of the
underlying account) always grants access to clients explicitly.

This improves on the current scenario with credit-cards where stolen credit card
details can lead to payments without the account owner's consent.

OAuth2 doesn't support fine grained access to resources. This is provided
through an extension to the protocol called
[Rich Authorization Requests](https://tools.ietf.org/html/draft-lodderstedt-oauth-rar-03)
(RAR). This allows Clients to specify a fine-grained access to a singular
Invoice, Mandate or Charge using a JSON structure. Further , OAuth2 is a
front-channel based authorization framework. This has made it difficult to
innovate and provide secure communication channels between Clients and
Authentication Servers. Further work is being performed in the form of TXAuth to
improve on OAuth2. With this in mind, Open Payments uses RAR whilst actively
participating in the TXAuth spec to look at using a more modern standard for
authentication.

## Authorization Details for RAR

In order to ensure interoperability between Client and Authentication Server
(AS) for authorization, it is necessary to define a set structure for the
`authorization_details` passed into .

Mandate Access: "read", "charge"

```json
{
  "openPayments": {
    "mandate": {
      "name": "//issuer.wallet/mandates/2fad69d0-7997-4543-8346-69b418c479a6",
      "access": ["read", "charge"]
    }
  }
}
```
